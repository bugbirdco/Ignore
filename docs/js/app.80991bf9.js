(function(){var e={9588:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("b-card",{staticClass:"flex-grow-1 d-flex flex-column rounded-sm shadow-sm",attrs:{"bg-variant":"light","no-body":""}},[t("b-card-body",{staticClass:"flex-grow-1"},[t("h6",[e._v("Compiled .gitignore")]),t("b-textarea",{attrs:{size:"sm",value:e.text,rows:Math.max(5,e.lines.length)},on:{input:e.recordChanges}})],1),t("b-card-footer",{staticClass:"small p-1"},[t("a",{staticClass:"d-block small text-center text-muted",attrs:{role:"button"},on:{click:function(t){return e.resetChanges()}}},[e._v(" Reset "),t("b-icon-x")],1)])],1)},r=[],n=(s(7658),{data(){return{changesFrom:[],changesTo:[]}},computed:{files(){return this.$store.getters.selectedFiles},lines(){return this.files.reduce(((e,t)=>{let s=this.$store.getters.file({file:t}),l=this.$store.getters.selectedFeatures({file:t});return s?s.optional.reduce(((e,t,s)=>l[s]?e.concat(t,""):e),e.concat((e.length<1?[]:[""]).concat(`#~ ${t.category}${t.path?"/":""}${(t.path||[]).join("/")}/${t.title} ~#`),s.main.length>0?["","# Main"].concat(s.main,""):[""])):e}),[])},text(){return this.lines.map((e=>{let t=this.changesFrom.indexOf(e);return t>=0?this.changesTo[t]:e})).join("\n")}},methods:{recordChanges(e){let t=e.split("\n"),s=[],l=[];for(let r in t){let e=this.lines[r],n=t[r];e&&n&&e!==n&&(s.push(e),l.push(n))}s.length>0&&(this.$set(this,"changesFrom",s),this.$set(this,"changesTo",l))},resetChanges(){this.$set(this,"changesFrom",[]),this.$set(this,"changesTo",[])}}}),i=n,a=s(1001),o=(0,a.Z)(i,l,r,!1,null,null,null),c=o.exports},5131:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("b-card",{staticClass:"flex-grow-1 d-flex rounded-sm shadow-sm",attrs:{"bg-variant":"light","no-body":""}},[t("b-overlay",{staticClass:"flex-grow-1 d-flex flex-column",attrs:{show:!e.ready}},[t("b-card-body",{staticClass:"flex-grow-1"},[t("b-input-group",{staticClass:"ignore_search mb-4",scopedSlots:e._u([{key:"prepend",fn:function(){return[t("b-input-group-text",[t("b-icon-search")],1)]},proxy:!0}])},[t("b-form-input",{attrs:{type:"search",placeholder:"Search .gitignores",size:"sm"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("div",{staticClass:"small"},[t("h6",[e._v("Search results")]),e._l(e.filtered,(function(s,l){return[t("div",{staticClass:"d-flex align-items-center"},[t("hr",{staticClass:"flex-grow-1 m-0"}),t("p",{staticClass:"pl-3 mb-0 small text-grey text-center"},[e._v(" "+e._s(e.name(l))+" ")])]),s&&s.length?[e._l(e.always(s,l),(function(s){return t("a",{staticClass:"d-block small pb-0 text-dark",class:{"font-weight-bold":s.selected},attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.toggleFile(s)}}},[e._v(" "+e._s(s.title)),t("span",{staticClass:"font-italic small text-grey"},[e._v(".gitignore")])])})),e.hidden(s,l).length>0?[t("b-collapse",{attrs:{visible:e.visible[l]}},e._l(e.hidden(s,l),(function(s){return t("a",{staticClass:"d-block small pb-0 text-dark",class:{"font-weight-bold":s.selected},attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.toggleFile(s)}}},[e._v(" "+e._s(s.title)),t("span",{staticClass:"font-italic small text-grey"},[e._v(".gitignore")])])})),0),e.visible[l]?t("a",{staticClass:"d-block text-grey text-center small mb-0",attrs:{role:"button"},on:{click:function(t){e.visible[l]=!1}}},[e._v(" Show less "),t("b-icon-caret-up-fill")],1):[t("div",{staticClass:"d-flex justify-content-between align-items-center"},[t("p",{staticClass:"d-block small mb-0 text-grey"},[e._v(" ... ")]),t("a",{staticClass:"d-block text-grey text-center small mb-0",attrs:{role:"button"},on:{click:function(t){e.visible[l]=!0}}},[e._v(" Show more "),t("b-icon-caret-down-fill")],1),t("span")])]]:e._e()]:t("p",{staticClass:"text-grey small font-italic mb-0"},[e._v("No results")])]}))],2)],1),t("b-card-footer",{staticClass:"small p-1"},[t("a",{staticClass:"d-block small text-center text-muted",attrs:{role:"button"},on:{click:function(t){return e.resetFiles()}}},[e._v(" Reset "),t("b-icon-x")],1)])],1)],1)},r=[],n={async mounted(){this.$store.state.files.length<1&&await this.$store.dispatch("loadFiles"),this.ready=!0},data(){return{ready:!1,search:null,visible:{main:!1,community:!1,global:!1}}},computed:{filter(){return this.search?new RegExp(this.search,"ig"):null},filtered(){return Object.keys(this.$store.getters.filesByCategory).reduce(((e,t)=>(e[t]=this.$store.getters.filesByCategory[t].filter((e=>!this.filter||e.name.match(this.filter))),e)),{})}},methods:{name(e){return{main:"Supported templates",community:"Community templates",global:"Auxiliary templates"}[e]},toggleFile(e){e.selected?this.$store.commit("removeFile",{name:e.name}):this.$store.commit("selectFile",{name:e.name})},resetFiles(){this.$store.commit("resetFiles")},always(e,t){let s=e.slice(0,3),l=this.visible[t]?[]:e.filter((e=>e.selected&&!s.find((({name:t})=>e.name===t))));return[...s,...l]},hidden(e,t){return e.slice(3).filter((e=>!e.selected||this.visible[t]))}}},i=n,a=s(1001),o=(0,a.Z)(i,l,r,!1,null,null,null),c=o.exports},2961:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("b-card",{staticClass:"flex-grow-1 d-flex flex-column rounded-sm shadow-sm",attrs:{"bg-variant":"light","no-body":""}},[t("b-card-body",{staticClass:"flex-grow-1"},[t("h6",[e._v("Select features")]),e._l(e.files,(function(s){return[t("div",{staticClass:"mt-3"},[t("p",{staticClass:"mb-0 small text-grey"},[e._v(" "+e._s(e.name(s))+" ")]),e.features(s)?t("p",[t("b-checkbox-group",{attrs:{checked:e.selections(s),switches:"",stacked:"",size:"sm"},on:{input:function(t){return e.setFeatures(s,t)}}},e._l(e.features(s),(function(s,l){return t("b-checkbox",{attrs:{value:l}},[t("span",{staticClass:"small"},[e._v(e._s(s.text))])])})),1)],1):t("p",{staticClass:"d-block small mb-0 text-grey"},[e._v(" Loading... "),t("b-spinner",{attrs:{small:""}})],1)])]})),e.files.length<1?t("p",{staticClass:"d-block small mb-0 mt-3 text-grey font-italic"},[e._v(" Select an ignore to get started! ")]):e._e()],2),t("b-card-footer",{staticClass:"small p-1"},[t("a",{staticClass:"d-block small text-center text-muted",attrs:{role:"button"},on:{click:function(t){return e.resetFeatures()}}},[e._v(" Reset "),t("b-icon-x")],1)])],1)},r=[],n=(s(7658),{computed:{files(){return this.$store.getters.selectedFiles},features(){return e=>{let t=this.$store.getters.fileFeatures({file:e});return t||(this.$store.dispatch("loadFile",{file:e}),null)}},selections(){return e=>{let t=this.$store.getters.selectedFeatures({file:e});return Object.keys(t).reduce(((e,s)=>(t[s]&&e.push(parseInt(s)),e)),[])}}},methods:{name(e){return e.path?`${e.path.join("/")}/${e.title}`:e.title},resetFeatures(){this.$store.commit("resetFeatures")},setFeatures(e,t){let s=this.$store.getters.selectedFeatures({file:e}),l=Object.keys(s).map((e=>{let s=parseInt(e);return{index:s,state:t.includes(s)}}),[]);this.$store.commit("removeFeature",{file:e});for(let{index:r,state:n}of l)this.$store.commit("selectFeature",{file:e,index:r,state:n})}}}),i=n,a=s(1001),o=(0,a.Z)(i,l,r,!1,null,null,null),c=o.exports},4358:function(e,t,s){"use strict";var l=s(7195),r=s(4359),n=s(7244),i=function(){var e=this,t=e._self._c;return t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"mt-3"},[t("b-col",{staticClass:"d-flex",attrs:{cols:"6",lg:"4"}},[t("ignore-search")],1),t("b-col",{staticClass:"d-flex",attrs:{cols:"6",lg:"4"}},[t("ignore-select")],1),t("b-col",{staticClass:"d-flex mt-4 mt-lg-0",attrs:{cols:"12",lg:"4"}},[t("ignore-result")],1)],1)],1)},a=[],o={},c=o,u=s(1001),f=(0,u.Z)(c,i,a,!1,null,null,null),d=f.exports,m=(s(7658),s(2801),s(408)),h=s(4975);l["default"].use(m.ZP);var g=new m.ZP.Store({state:{octokit:new h.vd,files:[],selections:[],results:{},features:[]},getters:{filesByCategory(e){return e.files.reduce(((t,s)=>(s.category in t||(t[s.category]=[]),t[s.category].push({...s,selected:e.selections.includes(s.name)}),t)),{})},selectedFiles(e){return e.files.filter((t=>e.selections.includes(t.name)))},file(e){return({file:{name:t}})=>{let s=e.results[t];return s?s.split("\n\n").reduce(((e,t)=>{let s=t.split("\n"),l="# "===s[0].substr(0,2);return l?e.optional.push(s):e.main=e.main.length>0?e.main.concat(s.filter(Boolean)):s.filter(Boolean),e}),{main:[],optional:[]}):null}},fileFeatures(e,t){return({file:e})=>{let s=t.file({file:e});return s?s.optional.map((e=>e.reduce(((e,t)=>{if(!t)return e.lines.length>0&&e.lines.push(null),e;let s="# "===t.substr(0,2),l=t;return s&&e.lines.length<1?e.text=(e.text?`${e.text} `:"").concat(t.replace(/^# ?(.*?)/,"$1")):l=l.replace(/^# ?(.*?)/,"$1"),e.lines.push(l),"#"!==t.substr(0,1)&&(e.default=!0),e}),{text:null,lines:[],default:!1}))):s}},selectedFeatures(e){return({file:{name:t}})=>e.features.reduce(((e,s)=>(s.name===t&&(e[s.index]=s.state),e)),{})}},mutations:{addFile(e,{file:t}){e.files.push({name:t.path,title:t.path.replace(/^.*?([^\/]+)\.gitignore$/,"$1"),path:t.path.replace(/^[^\/]*\/((?:[^\/]*\/?)+)\/[^.]+?\..+$|.*/,"$1").split("/").reduce(((e,t)=>e.length<1&&!t?null:e.concat(t)),[]),category:(t.path.replace(/^(?:(Global|community)|.*).*/i,"$1")||"main").toLowerCase(),token:t.sha})},resetFiles(e){l["default"].set(e,"selections",[])},selectFile(e,{name:t}={}){e.selections.push(t)},removeFile(e,{name:t}={}){e.selections.splice(e.selections.indexOf(t),1)},addResult(e,{name:t,result:s=null}={}){s?(console.log(`[*] .gitignore ${t} loaded`),console.groupCollapsed(`[*] .gitignore ${t} content`),console.log(s),console.groupEnd()):console.log(`[*] requested .gitignore ${t}`),l["default"].set(e.results,t,s)},resetFeatures(e){l["default"].set(e,"features",[])},selectFeature(e,{file:{name:t},index:s,state:l}={}){e.features.push({name:t,index:s,state:l})},removeFeature(e,{file:{name:t},index:s=null}={}){null===s?l["default"].set(e,"features",e.features.filter((e=>e.name!==t))):e.features.splice(e.features.findIndex((e=>e.name===t&&e.index===s)),1)}},actions:{async loadFiles({state:e,commit:t}){let{data:{tree:s}}=await e.octokit.request("GET /repos/{owner}/{repo}/git/trees/main?recursive=1",{owner:"github",repo:"gitignore"});for(let l of s)"1"===l.mode.substr(0,1)&&l.path.match(/\.gitignore$/)&&t("addFile",{file:l})},async loadFile({state:e,commit:t,getters:s},{file:l,force:r=!1}={}){if(r||!(l.name in e.results)){t("addResult",{name:l.name});let{data:{content:r}}=await e.octokit.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:"github",repo:"gitignore",file_sha:l.token});t("addResult",{name:l.name,result:atob(r)}),s.fileFeatures({file:l}).forEach((({default:e},s)=>{t("selectFeature",{file:l,index:s,state:e})}),[])}}},modules:{}});l["default"].use(r.XG7),l["default"].use(n.A7),l["default"].component("ignore-search",s(5131).Z),l["default"].component("ignore-select",s(2961).Z),l["default"].component("ignore-result",s(9588).Z),new l["default"]({el:"#app",store:g,render:e=>e(d)})},5696:function(){}},t={};function s(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,l,r,n){if(!l){var i=1/0;for(u=0;u<e.length;u++){l=e[u][0],r=e[u][1],n=e[u][2];for(var a=!0,o=0;o<l.length;o++)(!1&n||i>=n)&&Object.keys(s.O).every((function(e){return s.O[e](l[o])}))?l.splice(o--,1):(a=!1,n<i&&(i=n));if(a){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[l,r,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,n,i=l[0],a=l[1],o=l[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(o)var u=o(s)}for(t&&t(l);c<i.length;c++)n=i[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},l=self["webpackChunkignore"]=self["webpackChunkignore"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=s.O(void 0,[998],(function(){return s(4358)}));l=s.O(l)})();
//# sourceMappingURL=app.80991bf9.js.map